<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Sct (subml.Sct)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">subml</a> &#x00BB; Sct</nav><header class="odoc-preamble"><h1>Module <code><span>Sct</span></code></h1><p>Size change principle. This module implements a decision procedure based on the work of Chin Soon Lee, Neil D. Jones and Amir M. Ben-Amram (POPL 2001). It is used by PML to check that typing and subtyping proofs are well-founded.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-cmp" class="anchored"><a href="#type-cmp" class="anchor"></a><code><span><span class="keyword">type</span> cmp</span><span> = </span></code><table><tr id="type-cmp.Min1" class="anchored"><td class="def variant constructor"><a href="#type-cmp.Min1" class="anchor"></a><code><span>| </span><span><span class="constructor">Min1</span></span></code></td></tr><tr id="type-cmp.Zero" class="anchored"><td class="def variant constructor"><a href="#type-cmp.Zero" class="anchor"></a><code><span>| </span><span><span class="constructor">Zero</span></span></code></td></tr><tr id="type-cmp.Infi" class="anchored"><td class="def variant constructor"><a href="#type-cmp.Infi" class="anchor"></a><code><span>| </span><span><span class="constructor">Infi</span></span></code></td></tr></table></div><div class="spec-doc"><p>Representation of the set with three elements: -1, 0 and ∞.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-cmp_to_string" class="anchored"><a href="#val-cmp_to_string" class="anchor"></a><code><span><span class="keyword">val</span> cmp_to_string : <span><a href="#type-cmp">cmp</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>cmp_to_string c</code> returns a string representation of the given <code>cmp</code> element on one character.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-matrix" class="anchored"><a href="#type-matrix" class="anchor"></a><code><span><span class="keyword">type</span> matrix</span><span> = </span><span>{</span></code><table><tr id="type-matrix.w" class="anchored"><td class="def record field"><a href="#type-matrix.w" class="anchor"></a><code><span>w : int;</span></code></td></tr><tr id="type-matrix.h" class="anchored"><td class="def record field"><a href="#type-matrix.h" class="anchor"></a><code><span>h : int;</span></code></td></tr><tr id="type-matrix.tab" class="anchored"><td class="def record field"><a href="#type-matrix.tab" class="anchor"></a><code><span>tab : <span><span><a href="#type-cmp">cmp</a> array</span> array</span>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Size change matrix.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-index" class="anchored"><a href="#type-index" class="anchor"></a><code><span><span class="keyword">type</span> index</span></code></div><div class="spec-doc"><p>Abstract type used to refer to function symbols.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-int_of_index" class="anchored"><a href="#val-int_of_index" class="anchor"></a><code><span><span class="keyword">val</span> int_of_index : <span><a href="#type-index">index</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>int_of_index i</code> returns an <code>int</code> corresponding to the index <code>i</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-root" class="anchored"><a href="#val-root" class="anchor"></a><code><span><span class="keyword">val</span> root : <a href="#type-index">index</a></span></code></div><div class="spec-doc"><p>Special index denoting the entry point.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-call" class="anchored"><a href="#type-call" class="anchor"></a><code><span><span class="keyword">type</span> call</span><span> = </span><span>{</span></code><table><tr id="type-call.callee" class="anchored"><td class="def record field"><a href="#type-call.callee" class="anchor"></a><code><span>callee : <a href="#type-index">index</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Key of the function symbol being called.</p><span class="comment-delim">*)</span></td></tr><tr id="type-call.caller" class="anchored"><td class="def record field"><a href="#type-call.caller" class="anchor"></a><code><span>caller : <a href="#type-index">index</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Key of the calling function symbol.</p><span class="comment-delim">*)</span></td></tr><tr id="type-call.matrix" class="anchored"><td class="def record field"><a href="#type-call.matrix" class="anchor"></a><code><span>matrix : <a href="#type-matrix">matrix</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Size change matrix of the call.</p><span class="comment-delim">*)</span></td></tr><tr id="type-call.is_rec" class="anchored"><td class="def record field"><a href="#type-call.is_rec" class="anchor"></a><code><span>is_rec : bool;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Indicates if this is a recursive call.</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>A call <code>{callee; caller; matrix; is_rec}</code> represents a call to the function symbol with key <code>callee</code> by the function symbole with the key <code>caller</code>. The <code>matrix</code> gives the relation between the parameters of the caller and the callee. The coefficient <code>matrix.(a).(b)</code> give the relation between the <code>a</code>-th parameter of the caller and the <code>b</code>-th argument of the callee. The boolean <code>is_rec</code> is true when the call is a reccursive call (i.e. a call to a generalised hypothesis lower in the tree. It is <code>false</code> for every call to subtyping in the typing algorithm and the same goes for rules introducing a new induction hypothesis. Every other call refers to a previously introduced induction hypothesis and its boolean is <code>true</code>.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-call_graph" class="anchored"><a href="#type-call_graph" class="anchor"></a><code><span><span class="keyword">type</span> call_graph</span></code></div><div class="spec-doc"><p>The representation of the call graph.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = <a href="#type-call_graph">call_graph</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-create" class="anchored"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>create ()</code> returns a new, empty call graph.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-copy" class="anchored"><a href="#val-copy" class="anchor"></a><code><span><span class="keyword">val</span> copy : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>copy g</code> returns a copy of the call graph <code>g</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_empty" class="anchored"><a href="#val-is_empty" class="anchor"></a><code><span><span class="keyword">val</span> is_empty : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_empty g</code> indicates whether the call graph <code>g</code> contains calls.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_call" class="anchored"><a href="#val-add_call" class="anchor"></a><code><span><span class="keyword">val</span> add_call : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-call">call</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>add_call g c</code> adds the call <code>c</code> to the call graph <code>g</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-create_symbol" class="anchored"><a href="#val-create_symbol" class="anchor"></a><code><span><span class="keyword">val</span> create_symbol : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>string array</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-index">index</a></span></code></div><div class="spec-doc"><p><code>create_symbol g name args</code> creates a new function symbol with the name <code>name</code> and using <code>args</code> as the name of its arguments. Note that the new symbol will have the arity <code>Array.length args</code>. The value returned is the <code>index</code>, which can be used in a <code>call</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-arity" class="anchored"><a href="#val-arity" class="anchor"></a><code><span><span class="keyword">val</span> arity : <span><a href="#type-index">index</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p><code>arity i g</code> returns the arity of the symbol with index <code>i</code> in the call graph <code>g</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-do_inline" class="anchored"><a href="#val-do_inline" class="anchor"></a><code><span><span class="keyword">val</span> do_inline : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Flag controling inlining. The default value is <code>true</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-inline" class="anchored"><a href="#val-inline" class="anchor"></a><code><span><span class="keyword">val</span> inline : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>inline g</code> inlines the call graph <code>g</code>, which is useful for printing more consise call graphs, or to store smaller call graphs. Note that if the flag <code>do_inline</code> is set of <code>false</code>, this function returns an unchanged call graph.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sct" class="anchored"><a href="#val-sct" class="anchor"></a><code><span><span class="keyword">val</span> sct : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>sct g</code> runs the decision procedure on the call graph <code>g</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-latex_print_calls" class="anchored"><a href="#val-latex_print_calls" class="anchor"></a><code><span><span class="keyword">val</span> latex_print_calls : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>latex_print_calls ff g</code> prints the call graph <code>g</code> using a LaTeX format on the <code>Format.formatter</code> <code>ff</code>.</p></div></div></div></body></html>