<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Pos (subml.Pos)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">subml</a> &#x00BB; Pos</nav><header class="odoc-preamble"><h1>Module <code><span>Pos</span></code></h1><p>Source code position management. This module can be used to map the elements of an abstract syntax tree to sequences of characters in a source file.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-pos" class="anchored"><a href="#type-pos" class="anchor"></a><code><span><span class="keyword">type</span> pos</span><span> = </span><span>{</span></code><table><tr id="type-pos.fname" class="anchored"><td class="def record field"><a href="#type-pos.fname" class="anchor"></a><code><span>fname : <span>string option</span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>File name associated to the position.</p><span class="comment-delim">*)</span></td></tr><tr id="type-pos.start_line" class="anchored"><td class="def record field"><a href="#type-pos.start_line" class="anchor"></a><code><span>start_line : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Line number of the starting point.</p><span class="comment-delim">*)</span></td></tr><tr id="type-pos.start_col" class="anchored"><td class="def record field"><a href="#type-pos.start_col" class="anchor"></a><code><span>start_col : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Column number (utf8) of the starting point.</p><span class="comment-delim">*)</span></td></tr><tr id="type-pos.end_line" class="anchored"><td class="def record field"><a href="#type-pos.end_line" class="anchor"></a><code><span>end_line : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Line number of the ending point.</p><span class="comment-delim">*)</span></td></tr><tr id="type-pos.end_col" class="anchored"><td class="def record field"><a href="#type-pos.end_col" class="anchor"></a><code><span>end_col : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Column number (utf8) of the ending point.</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Type of a position corresponding to a continuous range of characters in a (utf8 encoded) source file.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-popt" class="anchored"><a href="#type-popt" class="anchor"></a><code><span><span class="keyword">type</span> popt</span><span> = <span><a href="#type-pos">pos</a> option</span></span></code></div><div class="spec-doc"><p>Convenient short name for an optional position.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-loc" class="anchored"><a href="#type-loc" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a loc</span></span><span> = </span><span>{</span></code><table><tr id="type-loc.elt" class="anchored"><td class="def record field"><a href="#type-loc.elt" class="anchor"></a><code><span>elt : <span class="type-var">'a</span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The element that is being localised.</p><span class="comment-delim">*)</span></td></tr><tr id="type-loc.pos" class="anchored"><td class="def record field"><a href="#type-loc.pos" class="anchor"></a><code><span>pos : <a href="#type-popt">popt</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Position of the element in the source code.</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Type constructor extending a type (e.g. an element of an abstract syntax tree) with a source code position.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-strloc" class="anchored"><a href="#type-strloc" class="anchor"></a><code><span><span class="keyword">type</span> strloc</span><span> = <span>string <a href="#type-loc">loc</a></span></span></code></div><div class="spec-doc"><p>Localised string type (widely used).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-make" class="anchored"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : <span><a href="#type-popt">popt</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-loc">loc</a></span></span></code></div><div class="spec-doc"><p><code>make pos elt</code> associates the position <code>pos</code> to <code>elt</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-in_pos" class="anchored"><a href="#val-in_pos" class="anchor"></a><code><span><span class="keyword">val</span> in_pos : <span><a href="#type-pos">pos</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-loc">loc</a></span></span></code></div><div class="spec-doc"><p><code>in_pos pos elt</code> associates the position <code>pos</code> to <code>elt</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-none" class="anchored"><a href="#val-none" class="anchor"></a><code><span><span class="keyword">val</span> none : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-loc">loc</a></span></span></code></div><div class="spec-doc"><p><code>none elt</code> wraps <code>elt</code> in a localisation structure with no specified source position.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-merge" class="anchored"><a href="#val-merge" class="anchor"></a><code><span><span class="keyword">val</span> merge : <span><a href="#type-pos">pos</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-pos">pos</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-pos">pos</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-union" class="anchored"><a href="#val-union" class="anchor"></a><code><span><span class="keyword">val</span> union : <span><a href="#type-popt">popt</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-popt">popt</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-popt">popt</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-locate" class="anchored"><a href="#val-locate" class="anchor"></a><code><span><span class="keyword">val</span> locate : <span><span class="xref-unresolved">Earley_core</span>.Input.buffer <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Earley_core</span>.Input.buffer <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-pos">pos</a></span></code></div><div class="spec-doc"><p><code>locate buf1 pos1 buf2 pos2</code> builds a position structure given two DeCaP input buffers. This function can be used by DeCaP to generate the position of elements during parsing.</p><ul class="at-tags"><li class="see"><span class="at-tag">see</span> <a href="http://lama.univ-savoie.fr/decap/" class="value">http://lama.univ-savoie.fr/decap/</a> <p>DeCap</p></li></ul></div></div><div class="odoc-spec"><div class="spec value" id="val-pos_to_string" class="anchored"><a href="#val-pos_to_string" class="anchor"></a><code><span><span class="keyword">val</span> pos_to_string : <span><a href="#type-pos">pos</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>pos_to_string pos</code> transforms the position <code>pos</code> into a readable format.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-print_pos" class="anchored"><a href="#val-print_pos" class="anchor"></a><code><span><span class="keyword">val</span> print_pos : <span><span class="xref-unresolved">Stdlib</span>.out_channel <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-pos">pos</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>print_pos oc pos</code> prints the position <code>pos</code> to the channel <code>oc</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-short_pos_to_string" class="anchored"><a href="#val-short_pos_to_string" class="anchor"></a><code><span><span class="keyword">val</span> short_pos_to_string : <span><a href="#type-pos">pos</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>short_pos_to_string pos</code> is similar to <code>pos_to_string pos</code> but uses a shorter format.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-print_short_pos" class="anchored"><a href="#val-print_short_pos" class="anchor"></a><code><span><span class="keyword">val</span> print_short_pos : <span><span class="xref-unresolved">Stdlib</span>.out_channel <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-pos">pos</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>print_short_pos oc pos</code> prints the position <code>pos</code> to the channel <code>oc</code> using a shorter format that <code>print_pos oc pos</code>.</p></div></div></div></body></html>