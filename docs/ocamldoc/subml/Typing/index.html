<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Typing (subml.Typing)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">subml</a> &#x00BB; Typing</nav><header class="odoc-preamble"><h1>Module <code><span>Typing</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#typing-and-subtyping-algorithms">Typing and subtyping algorithms</a></li></ul></nav><div class="odoc-content"><h4 id="typing-and-subtyping-algorithms"><a href="#typing-and-subtyping-algorithms" class="anchor"></a>Typing and subtyping algorithms</h4><div class="odoc-spec"><div class="spec type" id="type-ind" class="anchored"><a href="#type-ind" class="anchor"></a><code><span><span class="keyword">type</span> ind</span><span> = </span></code><table><tr id="type-ind.Use" class="anchored"><td class="def variant constructor"><a href="#type-ind.Use" class="anchor"></a><code><span>| </span><span><span class="constructor">Use</span> <span class="keyword">of</span> <a href="../Ast/index.html#type-schema">Ast.schema</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The given induction hypothesis applies.</p><span class="comment-delim">*)</span></td></tr><tr id="type-ind.New" class="anchored"><td class="def variant constructor"><a href="#type-ind.New" class="anchor"></a><code><span>| </span><span><span class="constructor">New</span> <span class="keyword">of</span> <span><span>(<a href="../Ast/index.html#type-schema">Ast.schema</a> * <a href="../Ast/index.html#type-kind">Ast.kind</a> * <a href="../Ast/index.html#type-kind">Ast.kind</a> * <span><span>(<a href="../Ast/index.html#type-ordi">Ast.ordi</a> * <a href="../Ast/index.html#type-ordi">Ast.ordi</a>)</span> list</span>)</span> option</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>The given induction hypothesis has been registered.</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>Result type of <code>check_rec</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-check_rec" class="anchored"><a href="#val-check_rec" class="anchor"></a><code><span><span class="keyword">val</span> check_rec : <span><a href="../TypingBase/index.html#type-ctxt">TypingBase.ctxt</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-term">Ast.term</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kind">Ast.kind</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kind">Ast.kind</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-ind">ind</a> * <a href="../TypingBase/index.html#type-ctxt">TypingBase.ctxt</a></span></code></div><div class="spec-doc"><p><code>check_rec ctxt t a b</code> checks whether a given pointed subtyping relation can be derived in the current context using an induction hypothesis. If not, the current schema is registered as an induction hypothesis so that it can be used in a later call to <code>check_rec</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-search_induction" class="anchored"><a href="#val-search_induction" class="anchor"></a><code><span><span class="keyword">val</span> search_induction : <span><span>(<span><a href="../TypingBase/index.html#type-ctxt">TypingBase.ctxt</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kind">Ast.kind</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kind">Ast.kind</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Ast/index.html#type-sub_prf">Ast.sub_prf</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Ast/index.html#type-typ_gen">Ast.typ_gen</a> <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../TypingBase/index.html#type-ctxt">TypingBase.ctxt</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kind">Ast.kind</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Ast/index.html#type-schema">Ast.schema</a> list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-check_fix" class="anchored"><a href="#val-check_fix" class="anchor"></a><code><span><span class="keyword">val</span> check_fix : <span><span>(<span><a href="../TypingBase/index.html#type-ctxt">TypingBase.ctxt</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-term">Ast.term</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kind">Ast.kind</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Ast/index.html#type-typ_prf">Ast.typ_prf</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="../TypingBase/index.html#type-ctxt">TypingBase.ctxt</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kind">Ast.kind</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kind">Ast.kind</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Ast/index.html#type-sub_prf">Ast.sub_prf</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Ast/index.html#type-typ_gen">Ast.typ_gen</a> <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../TypingBase/index.html#type-ctxt">TypingBase.ctxt</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span>bool option</span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<a href="../Ast/index.html#type-term'">Ast.term'</a>, <a href="../Ast/index.html#type-term">Ast.term</a>)</span> <span class="xref-unresolved">Bindlib</span>.binder</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kind">Ast.kind</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-is_subtype" class="anchored"><a href="#val-is_subtype" class="anchor"></a><code><span><span class="keyword">val</span> is_subtype : <span><a href="../TypingBase/index.html#type-ctxt">TypingBase.ctxt</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-term">Ast.term</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kind">Ast.kind</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kind">Ast.kind</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>A boolean test for subtyping</p></div></div><div class="odoc-spec"><div class="spec value" id="val-subtype" class="anchored"><a href="#val-subtype" class="anchor"></a><code><span><span class="keyword">val</span> subtype : <span><span><a href="../Ast/index.html#type-term">Ast.term</a> option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kind">Ast.kind</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kind">Ast.kind</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Ast/index.html#type-sub_prf">Ast.sub_prf</a> * <a href="../Sct/index.html#type-t">Sct.t</a></span></code></div><div class="spec-doc"><p><code>subtype t a b</code> checks the pointed subtyping relation &quot;t ∈ A ⊂ B&quot;. Since the term <code>t</code> is optional, a generic witness is used when <code>t = None</code>. The function returns a subtyping proof together with the successful instance of the SCT.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-type_check" class="anchored"><a href="#val-type_check" class="anchor"></a><code><span><span class="keyword">val</span> type_check : <span><a href="../Ast/index.html#type-term">Ast.term</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Ast/index.html#type-kind">Ast.kind</a> option</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Ast/index.html#type-kind">Ast.kind</a> * <a href="../Ast/index.html#type-typ_prf">Ast.typ_prf</a> * <a href="../Sct/index.html#type-t">Sct.t</a></span></code></div><div class="spec-doc"><p><code>type_check t ko</code> type-checks the term <code>t</code> against the optional type <code>k</code> (or a unification variable). The function returns a type for <code>t</code> and the corresponding typing proof and successful instance of the SCT. When the function is called with <code>ko = Some k</code>, the returned type is <code>k</code>.</p></div></div></div></body></html>