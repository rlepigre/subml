<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Binding (subml.Binding)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">subml</a> &#x00BB; Binding</nav><header class="odoc-preamble"><h1>Module <code><span>Binding</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#binding-relating-functions">Binding relating functions</a></li><li><a href="#bindings-of-a-type-in-a-type-and-ordinals">bindings of a type in a type and ordinals</a></li><li><a href="#kind-variable-instanciation">Kind variable instanciation</a></li><li><a href="#instanciate-type-unification-variables-from-state">instanciate type unification variables from state</a></li><li><a href="#bindings-of-ordinals-in-type-and-ordinals">bindings of ordinals in type and ordinals</a></li><li><a href="#instanciate-ordinal-unification-variables-from-state">Instanciate ordinal unification variables from state</a></li></ul></nav><div class="odoc-content"><h4 id="binding-relating-functions"><a href="#binding-relating-functions" class="anchor"></a>Binding relating functions</h4><h3 id="bindings-of-a-type-in-a-type-and-ordinals"><a href="#bindings-of-a-type-in-a-type-and-ordinals" class="anchor"></a>bindings of a type in a type and ordinals</h3><div class="odoc-spec"><div class="spec value" id="val-bind_kuvar" class="anchored"><a href="#val-bind_kuvar" class="anchor"></a><code><span><span class="keyword">val</span> bind_kuvar : <span><a href="../Ast/index.html#type-kuvar">Ast.kuvar</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kind">Ast.kind</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Ast/index.html#type-kind">Ast.kind</a>, <a href="../Ast/index.html#type-kind">Ast.kind</a>)</span> <a href="../LibTools/Bindlib/index.html#type-binder">LibTools.Bindlib.binder</a></span></span></code></div><div class="spec-doc"><p>binding a unification variable in a kind</p></div></div><h3 id="kind-variable-instanciation"><a href="#kind-variable-instanciation" class="anchor"></a>Kind variable instanciation</h3><div class="odoc-spec"><div class="spec exception" id="exception-Occur_check" class="anchored"><a href="#exception-Occur_check" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Occur_check</span></span></code></div><div class="spec-doc"><p>Raised by set_kuvar if instanciation is illegal because it creates cyclic types</p></div></div><div class="odoc-spec"><div class="spec value" id="val-safe_set_kuvar" class="anchored"><a href="#val-safe_set_kuvar" class="anchor"></a><code><span><span class="keyword">val</span> safe_set_kuvar : <span><a href="../Ast/index.html#type-occur">Ast.occur</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kuvar">Ast.kuvar</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Ast/index.html#type-kind">Ast.kind</a> <a href="../Ast/index.html#type-from_ordis">Ast.from_ordis</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Ast/index.html#type-ordi">Ast.ordi</a> array</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Set kuvar with kind.</p><ul><li>use the previous function 'make_safe'</li><li>does the occur check</li><li>if the kuvar_state is not Free, is uses the state and ignore the argumemt. Therefore it is not safe to assume that the unification variables is related to k after seting</li></ul></div></div><h3 id="instanciate-type-unification-variables-from-state"><a href="#instanciate-type-unification-variables-from-state" class="anchor"></a>instanciate type unification variables from state</h3><div class="odoc-spec"><div class="spec value" id="val-uvar_use_state" class="anchored"><a href="#val-uvar_use_state" class="anchor"></a><code><span><span class="keyword">val</span> uvar_use_state : <span><a href="../Ast/index.html#type-kuvar">Ast.kuvar</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Ast/index.html#type-ordi">Ast.ordi</a> array</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Force a type unification variable to use its state. Return true if the variable is changed</p></div></div><h3 id="bindings-of-ordinals-in-type-and-ordinals"><a href="#bindings-of-ordinals-in-type-and-ordinals" class="anchor"></a>bindings of ordinals in type and ordinals</h3><p>The main difficulty here is for unification variable for kind or ordinals If we bind o in a variable ?1(o1,...,on) that may use o while o is not among its parameter, we must create a new variable ?2 and set ?1(x1,...,xn) to ?2(x1,...,xn,o). This appends in general for more than one variable. See the comment in the KUVar and OUVar cases</p><div class="odoc-spec"><div class="spec value" id="val-index" class="anchored"><a href="#val-index" class="anchor"></a><code><span><span class="keyword">val</span> index : <span><span><a href="../Ast/index.html#type-ordi">Ast.ordi</a> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> array</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-ordi">Ast.ordi</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p><code>index os x u</code> searches the index <code>i</code> of <code>u</code> in <code>os</code> and returns <code>x.(i)</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-bind_both" class="anchored"><a href="#val-bind_both" class="anchor"></a><code><span><span class="keyword">val</span> bind_both : <span>?from_generalise:bool <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Ast/index.html#type-ordi">Ast.ordi</a> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Ast/index.html#type-obox">Ast.obox</a> array</span> <span class="arrow">&#45;&gt;</span></span> <a href="../AstMap/index.html#type-self_kind">AstMap.self_kind</a> * <a href="../AstMap/index.html#type-self_ord">AstMap.self_ord</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-bind_fn" class="anchored"><a href="#val-bind_fn" class="anchor"></a><code><span><span class="keyword">val</span> bind_fn : <span>?from_generalise:bool <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Ast/index.html#type-ordi">Ast.ordi</a> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Ast/index.html#type-obox">Ast.obox</a> array</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kind">Ast.kind</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kind">Ast.kind</a> <a href="../LibTools/Bindlib/index.html#type-box">LibTools.Bindlib.box</a></span></span></code></div><div class="spec-doc"><p><code>bind_fn ?(from_generalise=false) os x k</code> Bind an array <code>os</code> of ordinals in the kind <code>k</code>. <code>x</code> is the array of bindlib variables to be used</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bind_gn" class="anchored"><a href="#val-bind_gn" class="anchor"></a><code><span><span class="keyword">val</span> bind_gn : <span>?from_generalise:bool <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Ast/index.html#type-ordi">Ast.ordi</a> array</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Ast/index.html#type-obox">Ast.obox</a> array</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-ordi">Ast.ordi</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-ordi">Ast.ordi</a> <a href="../LibTools/Bindlib/index.html#type-box">LibTools.Bindlib.box</a></span></span></code></div><div class="spec-doc"><p><code>bind_gn ?(from_generalise=false) len os x o</code> Bind an array <code>os</code> of ordinals in the ordinal <code>o</code>. <code>x</code> is the array of bindlib variables to be used</p></div></div><div class="odoc-spec"><div class="spec value" id="val-obind_ordis" class="anchored"><a href="#val-obind_ordis" class="anchor"></a><code><span><span class="keyword">val</span> obind_ordis : <span><span><a href="../Ast/index.html#type-ordi">Ast.ordi</a> array</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-ordi">Ast.ordi</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Ast/index.html#type-ordi">Ast.ordi</a>, <a href="../Ast/index.html#type-ordi">Ast.ordi</a>)</span> <a href="../LibTools/Bindlib/index.html#type-mbinder">LibTools.Bindlib.mbinder</a></span></span></code></div><div class="spec-doc"><p>binding ordinals in one ordinal</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bind_ordis" class="anchored"><a href="#val-bind_ordis" class="anchor"></a><code><span><span class="keyword">val</span> bind_ordis : <span><span><a href="../Ast/index.html#type-ordi">Ast.ordi</a> array</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kind">Ast.kind</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Ast/index.html#type-ordi">Ast.ordi</a>, <a href="../Ast/index.html#type-kind">Ast.kind</a>)</span> <a href="../LibTools/Bindlib/index.html#type-mbinder">LibTools.Bindlib.mbinder</a></span></span></code></div><div class="spec-doc"><p>binding ordinals in one kind</p></div></div><div class="odoc-spec"><div class="spec value" id="val-bind_ouvar" class="anchored"><a href="#val-bind_ouvar" class="anchor"></a><code><span><span class="keyword">val</span> bind_ouvar : <span><a href="../Ast/index.html#type-ouvar">Ast.ouvar</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-kind">Ast.kind</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../Ast/index.html#type-ordi">Ast.ordi</a>, <a href="../Ast/index.html#type-kind">Ast.kind</a>)</span> <a href="../LibTools/Bindlib/index.html#type-binder">LibTools.Bindlib.binder</a></span></span></code></div><div class="spec-doc"><p>binding of one ordinal in one kind</p></div></div><h3 id="instanciate-ordinal-unification-variables-from-state"><a href="#instanciate-ordinal-unification-variables-from-state" class="anchor"></a>Instanciate ordinal unification variables from state</h3><div class="odoc-spec"><div class="spec value" id="val-ouvar_use_state" class="anchored"><a href="#val-ouvar_use_state" class="anchor"></a><code><span><span class="keyword">val</span> ouvar_use_state : <span><span>(<span><a href="../Ast/index.html#type-ordi">Ast.ordi</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Ast/index.html#type-ordi">Ast.ordi</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Ast/index.html#type-ouvar">Ast.ouvar</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Ast/index.html#type-ordi">Ast.ordi</a> array</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Force an ordinal unification variable to use its state. Return true if the variable is changed</p></div></div></div></body></html>